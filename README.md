# PhageMatch

**PhageMatch** is a research-focused pipeline designed to streamline the preprocessing and feature engineering of genomic data (both bacterial and phage) for machine learning–driven phage therapy studies. This repository hosts Python scripts for tasks such as:

1. **Data Loading and Cleaning**  
2. **DNA Sequence Encoding** (One-Hot, k-mer frequencies, DNA2Vec embeddings)  
3. **Dimensionality Reduction** (planned with PCA, t-SNE, or autoencoders)  
4. **Feature Selection** (CRISPR sequences, prophage regions, etc.)  
5. **Pipeline Execution** via a single `pipeline_main.py` entry point

---

## Table of Contents

1. [Project Goals](#project-goals)  
2. [Repository Structure](#repository-structure)  
3. [Installation and Setup](#installation-and-setup)  
4. [Configuration](#configuration)  
5. [Usage](#usage)  
6. [Planned Features](#planned-features)  
7. [Contributing](#contributing)  
8. [License](#license)

---

## Project Goals

- **Automate Genomic Preprocessing**: Convert raw DNA sequences into structured, machine-readable formats (one-hot vectors, k-mer profiles, embeddings).  
- **Reduce Manual Overhead**: Provide a modular pipeline to handle large volumes of data with minimal user intervention.  
- **Support Phage Therapy Research**: Enable data scientists and biologists to quickly iterate on phage-host interaction predictions by focusing on modeling rather than data wrangling.

---

## Repository Structure

```
phage-match/
│
├── data/
│   ├── raw/                 # Raw input data (not stored in Git if large)
│   ├── processed/           # Processed outputs (one-hot, k-mers, embeddings)
│   ├── metadata/            # Any metadata files (IDs, sample lists)
│   └── docs/                # Documentation, references (Paper PDFs, summaries)
│
├── models/
│   ├── pretrained/          # Pretrained embeddings (dna2vec.txt, etc.)
│   └── trained_models/      # Future saved ML models
│
├── notebooks/               # Jupyter notebooks for exploratory data analysis
│
├── scripts/
│   ├── preprocessing/       # Scripts for data cleaning, encoding, k-mer calc.
│   │   ├── load_data.py
│   │   ├── one_hot_encode.py
│   │   ├── kmer_calculation.py
│   │   └── parallel_utils.py
│   ├── modeling/            # Future scripts for machine learning/training
│   └── embeddings.py        # DNA2Vec or other embedding-based utilities
│
├── tests/                   # Potential unit tests
│
├── pipeline_main.py         # Main entry point for running the data pipeline
├── config.yaml              # YAML config file defining directories/parameters
├── requirements.txt         # Python dependencies
├── .gitignore
├── README.md                # You're here!
└── pipeline.log             # Log file generated by the pipeline
```

---

## Installation and Setup

1. **Clone the Repository**  
   ```bash
   git clone https://github.com/EngAbdullahHanif/phage-match.git
   cd phage-match
   ```

2. **Set Up a Virtual Environment (Optional but Recommended)**  
   ```bash
   python -m venv venv
   source venv/bin/activate  # On Windows: venv\Scripts\activate
   ```

3. **Install Dependencies**  
   ```bash
   pip install -r requirements.txt
   ```
   Or use your preferred environment manager (conda, poetry, pipenv, etc.).

4. **(Optional) Large File Storage**  
   If you plan to store large genomic datasets in this repo, configure Git LFS as needed:
   ```bash
   git lfs install
   git lfs track "*.fasta" "*.fastq"  # or other large file extensions
   git add .gitattributes
   ```

---

## Configuration

All pipeline-related paths and parameters are set in **`config.yaml`**. Key sections include:

- `input_dirs`  
   - `bacterial_genomes`, `phage_genomes`, `gene_annotations_bacterial`, `gene_annotations_phage`
- `output_dirs`  
   - `one_hot_encoded`, `kmer_frequencies`, `embeddings`
- `kmer_k` (size of k-mers)
- `num_workers` (for parallel processing)
- `embedding_file` (path to DNA2Vec or other embedding model)

Customize these paths and parameters according to your data layout.

---

## Usage

1. **Prepare Your Input Data**  
   - Place raw bacterial or phage genome files (`.fasta`, `.fastq`, etc.) in the designated `data/raw` subdirectories or wherever specified in `config.yaml`.

2. **Run the Pipeline**  
   ```bash
   python pipeline_main.py
   ```
   - This script will read your **`config.yaml`**, load data, and perform:
     - One-hot encoding
     - K-mer calculation
     - Generation of embeddings (DNA2Vec, etc.)
     - (Optional) logging to `pipeline.log`

3. **Monitor Output**  
   - Processed data will appear in `data/processed/` subfolders (or whichever paths are set in `config.yaml`).
   - Check `pipeline.log` for detailed step-by-step status messages.

---

## Planned Features

- **Dimensionality Reduction**  
  - Integration of PCA, t-SNE, or autoencoder scripts to reduce feature dimensionality.
- **Advanced Feature Selection**  
  - Identify CRISPR sequences, prophage regions, etc., using specialized bioinformatics tools or domain-specific heuristics.
- **Machine Learning and Modeling**  
  - In-depth modeling approaches for phage-host interaction prediction (Random Forest, Neural Networks, etc.).
- **Evaluation and Visualization**  
  - Scripts for performance metrics, confusion matrices, feature importance graphs.

---

## Contributing

We welcome contributions in the form of:

- **Pull requests** for new scripts or enhancements (please open an issue first).
- **Bug reports** or feature requests via GitHub Issues.
- **Documentation improvements** in the `docs` folder or clarifications to this README.

Before contributing, please ensure your code follows Python best practices (PEP8) and includes unit tests where applicable.

---

## License

This project does not currently specify a license. If you plan to reuse or modify this code, please contact **Abdullah Hanif** or the repository owner to clarify usage rights and attribution requirements.

---

**Thank you for exploring PhageMatch!**  
If you have any questions, comments, or would like to collaborate, feel free to reach out or open an issue. We look forward to improving phage therapy research together!
